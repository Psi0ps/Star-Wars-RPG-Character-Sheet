<link rel="import" href="../polymer/polymer.html">

<dom-module id="character-attribute">

  <template>

    <style>
      /* local styles go here */
      :host {
        display: inline-block;
        border-color : black;
        border-style : solid;
        border-width : 29px 29px 29px 29px;
        border-image : url("/images/border.png") 29 29 29 29 fill repeat stretch;
      }

      :host  > .classification {
        text-align   : center;
        font-size    : 14px;
        line-height  : 16px;
        height       : 16px;
        width        : calc(100% + 10px);
        border-color : black;
        border-style : solid;
        border-width : 8px 8px 8px 8px;
        border-image : url("/images/attribute_headings.png") 13 13 13 13 fill repeat stretch;
        margin-left  : -5px;
        margin-right : -5px;
        color        : #FFFFFF
      }

      :host  > .classification > p {
        margin     : 0;
        margin-top : -8px
      }

      :host  > .classification:first-child {
        margin-top : -15px
      }

      :host  > .rating {
        text-align  : center;
        font-size   : 30px;
        font-weight : bold
      }

      :host  > .rating:last-child {
        margin-bottom : -15px
      }
    </style>

    <div class="classification">
      <p>[[attributeName]]</p>
    </div>
    <div class="rating">
      [[attributeTotalRanks]]
    </div>

  </template>

  <script>
    Polymer({
      /* this is the element's prototype */
      is: 'character-attribute',

      properties: {
        /**
         *
         * @attribute attributeStartingRanks
         * @type number
         * @default 0
         */
        attributeStartingRanks: {
          type: Number,
          reflectToAttribute: true,
          value: 0
        },

        /**
         *
         * @attribute attributeSpeciesRanks
         * @type number
         * @default 0
         */
        attributeSpeciesRanks: {
          type: Number,
          reflectToAttribute: true,
          value: 0
        },

        /**
         *
         * @attribute attributeTalentRanks
         * @type number
         * @default 0
         */
        attributeTalentRanks: {
          type: Number,
          reflectToAttribute: true,
          value: 0
        },

        /**
         *
         * @attribute attributePurchasedRanks
         * @type number
         * @default 0
         */
        attributePurchasedRanks: {
          type: Number,
          reflectToAttribute: true,
          value: 0
        },

        /**
         *
         * @attribute attributeTotalRanks
         * @type number
         * @default 0
         */
        attributeTotalRanks: {
          type: Number,
          //reflectToAttribute: true,
          //value: 5
          computed: 'totalRanks(attributeStartingRanks, attributeSpeciesRanks, attributeTalentRanks, attributePurchasedRanks)'
        },

        /**
         *
         * @attribute attributeName
         * @type string
         * @default 0
         */
        attributeName: {
          type: String,
          reflectToAttribute: true,
          value: "N/A"
        }

      },

      totalRanks: function(startingRanks, speciesRanks, talentRanks, purchasedRanks) { return (parseInt(startingRanks) | 0) + (parseInt(speciesRanks) | 0) + (parseInt(talentRanks) | 0) + (parseInt(purchasedRanks) | 0); }

    });
  </script>
</dom-module>