<link rel="import" href="../polymer/polymer.html">

<dom-module id="character-characteristics">

  <template>

    <style>
      /* local styles go here */
      :host {
        display: inline-block;
        height   : 120px;
        width    : 12%;
        position : relative
      }

      :host > img {
        position : absolute;
        top      : 0;
        left     : 0;
        bottom   : 0;
        right    : 0;
        width    : 100%;
        height   : 100%
      }

      :host > .rating {
        position : absolute;
        top      : 5px;
        width    : 100%
      }

      :host > .rating > div {
        font-size        : 40px;
        line-height      : 80px;
        width            : 80px;
        height           : 80px;
        margin-right     : auto;
        margin-left      : auto;
        text-align       : center;
        background-color : white;
        border-radius    : 100%
      }

      :host > .classification {
        position     : absolute;
        bottom       : 5px;
        text-align   : center;
        color        : #FFFFFF;
        width        : calc(100% - 10px);
        margin-left  : 5px;
        margin-right : 5px;
        border-color : black;
        border-style : solid;
        border-width : 8px 8px 8px 8px;
        border-image : url("/images/red_backing.png") 8 8 8 8 fill repeat stretch
      }

      :host > .classification > p {
        margin : -4px
      }
    </style>

    <!-- local DOM goes here -->
    <img src="/images/power_backing.png">
    <div class="rating">
      <div>
        [[ powerTotalRanks ]]
      </div>
    </div>
    <div class="classification">
      <p>[[ powerName ]]</p>
    </div>

  </template>

  <script>
    Polymer({
      /* this is the element's prototype */
      is: 'character-characteristics',

      properties: {
        /**
         *
         * @attribute powerSpeciesRanks
         * @type number
         * @default 0
         */
        powerSpeciesRanks: {
          type: Number,
          reflectToAttribute: true,
          value: 0
        },

        /**
         *
         * @attribute powerPurchasedRanks
         * @type number
         * @default 0
         */
        powerPurchasedRanks: {
          type: Number,
          reflectToAttribute: true,
          value: 0
        },

        /**
         *
         * @attribute powerTotalRanks
         * @type number
         */
        powerTotalRanks: {
          type: Number,
          notify: true,
          reflectToAttribute: true,
          readOnly: true,
          //value: 4
          computed: 'totalRanks(powerSpeciesRanks, powerPurchasedRanks)'
        },

        /**
         *
         * @attribute powerName
         * @type string
         * @default 0
         */
        powerName: {
          type: String,
          reflectToAttribute: true,
          value: "N/A"
        }

      },

      totalRanks: function(speciesRanks, purchasedRanks) {
        return (parseInt(speciesRanks) | 0) + (parseInt(purchasedRanks) | 0);
      }

    });
  </script>
</dom-module>